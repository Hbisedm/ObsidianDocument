---
title: Function的笔记
tags: ["Function", "JavaScript"]
创建时间: 星期三, 七月 27日 2022, 8:58:57 晚上
修改时间: 星期日, 八月 7日 2022, 3:11:25 下午
---
#Function

# Function的笔记

## 如何创建执行环境 (执行函数时做了哪些事)

我们现在知道每次调用函数时，javascript 引擎都会创建一个新的执行环境，而如何创建这一系列的执行环境呢，
答案是执行器会分为两个阶段来完成，
分别是
- 创建阶段
- 激活(执行)阶段

**而即使步骤相同但是由于规范的不同，每个阶段执行的过程有很大的不同。**

### ES3 规范

创建阶段：
- 1.创建作用域链。
- 2.创建变量对象VO(包括参数，函数，变量)。
- 3.确定this的值。

激活/执行阶段： - 完成变量分配，执行代码。
[[VO与AO]]

### ES5 规范

创建阶段：
- 1.确定 this 的值。
- 2.创建词法环境(LexicalEnvironment)。
- 3.创建变量环境(VariableEnvironment)。

> 变量环境也是一个词法环境。他具有词法环境中所有的属性 在ES6中，LexicalEnvironment和VariableEnvironment 的区别在于前者用于存储函数声明和变量let 和 const 绑定，而后者仅用于存储变量 var 绑定。


激活/执行阶段： - 完成变量分配，执行代码。
[[词法环境]]



[[执行上下文与作用域]]
[[作用域]]
[JavaScript || 函数](https://segmentfault.com/a/1190000008558325)